<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/style.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page autozone file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body id="body-top" class="layout-theme animated-css">
<!-- Top menu -->
<header class="header no-affix">
    <nav class="navbar navbar-fixed-top navbar-autozone yamm">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">
                    <img alt="Brand" src="https://placehold.it/100x45?text=Your+Logo">
                </a>
                <button type="button" class="navbar-toggle collapsed text-center"
                        data-toggle="collapse" data-target="#main-menu">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar top-bar"></span>
                    <span class="icon-bar middle-bar"></span>
                    <span class="icon-bar bottom-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="main-menu">
                <ul class="nav navbar-nav">
                    <li class="active"><a class="text-center" href="./">Home</a></li>
                    <li><a class="text-center" href="news.html">News</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle text-center" data-toggle="dropdown" role="button"
                           aria-haspopup="true"
                           aria-expanded="false">Come funziona<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a class="text-center" href="what-is-carshare.html">Cos' è</a></li>
                            <li class="divider"></li>
                            <li><a class="text-center" href="how-to-book.html">Prenotazione</a></li>
                            <li class="divider"></li>
                            <li><a class="text-center" href="#">Assicurazione</a></li>
                            <li class="divider"></li>
                            <li><a class="text-center" href="#">Carburante</a></li>
                            <li class="divider"></li>
                            <li><a class="text-center" href="services.html">Servizi</a></li>
                        </ul>
                    </li>
                    <li><a class="text-center" href="booking.html">Prenotazione</a></li>
                    <li><a class="text-center" href="our-cars.html">Flotta</a></li>
                    <li><a class="text-center" href="about-us.html">Chi siamo</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle text-center" data-toggle="dropdown" role="button"
                           aria-haspopup="true"
                           aria-expanded="false">Area riservata<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a class="text-center" href="login.html">Login-in</a></li>
                            <li class="divider"></li>
                            <li><a class="text-center" href="signup-step-1.html">Registrazione</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle text-center" aria-expanded="true">
                            <span class="fa fa-search" aria-hidden="true"></span>
                            <span class="sr-only">Cerca</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <div class="yamm-content">
                                    <form action="search.html" method="get" class="form-search">
                                        <div class="form-group">
                                            <label class="sr-only" for="search">Search</label>
                                            <input id="search" class="form-control"
                                                   placeholder="Cerca..." type="text">
                                        </div>
                                        <button class="btn btn-default form-search__submit" type="submit">
                                            <i class="icon fa fa-search"></i>
                                        </button>
                                    </form>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<section class="section">
    <div class="block-title">
        <div class="section-bg section-bg-cover section-bg-3 bg-secondary">
            <div class="block-title-content">
                <h1 class="block-title-title">Prenotazione</h1>
                <div class="decor decor-1 center-block"></div>
                <ol class="breadcrumb">
                    <li><a href="index.html">home</a></li>
                    <li class="active">prenotazione</li>
                </ol>
            </div><!-- end block-title-content -->
        </div>
    </div><!-- end block-title -->
</section>

<section>
    <div class="container card">
        <div class="row">
            <div class="col-xs-12">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-6">
                            <h1 class="panel-title">Filtra veicoli</h1>
                            <strong class="small">200 Veicoli disponibili</strong>
                        </div>
                        <div class="col-xs-6 text-right">
                            Più filtri:
                            <a href="#filter-toggle" class="btn btn-primary" type="button" data-toggle="collapse"><i
                                    class="fa fa-plus"></i></a>
                        </div>
                    </div>
                    <hr>
                    <div class="input-group">
                        <label for="pac-input" class="sr-only"></label>
                        <input name="location" id="pac-input" class="form-control" placeholder="Località"
                               type="text">
                        <span class="input-group-btn"><button id="pac-button" class="btn btn-primary"
                                                              type="submit">Cerca</button></span>
                    </div>
                </div>

                <div id="filter-toggle" class="panel-collapse collapse in" role="tabpanel"
                     aria-labelledby="headingOne">
                    <div class="panel-body form-horizontal">
                        <div class="row">
                            <form>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="col-xs-9">
                                            <label>BMW i8</label>
                                            <span class="help-block">12 Veicoli disponibili</span>
                                        </div>
                                        <div class="col-xs-3 text-right">
                                            <input id="bmw" name="bmw" checked data-toggle="toggle" type="checkbox">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="col-xs-9">
                                            <label>Tesla P100D</label>
                                            <span class="help-block">7 Veicoli disponibili</span>
                                        </div>
                                        <div class="col-sm-3 text-right">
                                            <input id="tesla" name="tesla" checked data-toggle="toggle" type="checkbox">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="col-xs-9">
                                            <label>Audi A3 e-tron</label>
                                            <span class="help-block">53 Veicoli disponibili</span>
                                        </div>
                                        <div class="col-sm-3 text-right">
                                            <input id="audi-a3" name="audi-a3" checked data-toggle="toggle"
                                                   type="checkbox">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="col-xs-9">
                                            <label>Golf GTE</label>
                                            <span class="help-block">89 Veicoli disponibili</span>
                                        </div>
                                        <div class="col-sm-3 text-right">
                                            <input id="gte" name="gte" checked data-toggle="toggle" type="checkbox">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="col-xs-9">
                                            <label for="seggiolino">Seggiolino</label>
                                        </div>
                                        <div class="col-sm-3 text-right">
                                            <input id="seggiolino" name="seggiolino" checked data-toggle="toggle"
                                                   type="checkbox">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="col-xs-9">
                                            <label for="auto-gearbox">Cambio automatico</label>
                                        </div>
                                        <div class="col-sm-3 text-right">
                                            <input id="auto-gearbox" name="gearbox" checked data-toggle="toggle"
                                                   type="checkbox">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="map-wrapper map-container">
    <div id="map" class="map"></div>
</section>

<section class="section section-content bg-primary text-center">
    <h2 class="section-title">Hai bisogno di aiuto?</h2>
    <p><a class="btn btn-default btn-lg" href="faq.html" role="button">Guarda sulle FAQ</a></p>
</section>

<footer class="footer wow bounceInUp" data-wow-duration="2s">
    <section class="section section-content bg-secondary footer-content">
        <div class="container text-center">
            <div class="row">
                <div class="col-xs-12">
                    <h2 class="footer-title">auto <span class="text-primary">zone</span></h2>
                    <div class="decor-1 decor-1_mod-b"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12">
                    <p class="text-secondary">: Sede uffici :</p>
                    <p>Via Torino 155, Mestre 30172 (VE), Veneto, Italia</p>
                </div>
            </div>

            <div class="row footer-row">
                <ul class="col-xs-12 list-inline">
                    <li class="col-xs-12 col-sm-6 col-md-3"><span class="footer-special">Telefono:</span> 1234567</li>
                    <li class="col-xs-12 col-sm-6 col-md-3"><span class="footer-special">Fax:</span> 1234567</li>
                    <li class="col-xs-12 col-sm-6 col-md-3"><span class="footer-special">Email:</span>
                        1234567@gmail.com
                    </li>
                    <li class="col-xs-12 col-sm-6 col-md-3"><span class="footer-special">Orario:</span> Lun-Ven ::
                        9-18
                    </li>
                </ul>
            </div>

            <div class="row footer-row">
                <div class="col-xs-12">
                    <ul class="social-links list-inline">
                        <li><a class="icon fa fa-facebook" href="#"><span class="sr-only">Facebook</span></a></li>
                        <li><a class="icon fa fa-twitter" href="#"><span class="sr-only">Twitter</span></a></li>
                        <li><a class="icon fa fa-youtube-play" href="#"><span class="sr-only">YouTube</span></a>
                        </li>
                        <li><a class="icon fa fa-instagram" href="#"><span class="sr-only">Instagram</span></a></li>
                    </ul>
                </div>
            </div>

            <div class="row footer-row">
                <div class="col-xs-12">
                    <ul class="nav nav-pills nav-justified">
                        <li><a href="faq.html"><i class="fa fa-question-circle"></i> FAQ</a></li>
                        <li><a href="contact-us.html"><i class="fa fa-phone"></i> Contattaci</a></li>
                        <li><a href="index-map.html"><i class="fa fa-map-signs"></i> Mappa del Sito</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <div class="top">
        <div class="top-container">
            <a class="text-center scroll" href="#body-top">
                <div class="top-triangle"></div>
                <span>Top</span>
            </a>
        </div>
    </div>
    <div class="copyright text-center">
        Copyrights © 2015 - 2016 <a class="" href="#">autozone</a> - Tutti i diritti riservati
    </div>
</footer>

<div id="booking-modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Modal title</h4>
            </div>
            <div class="modal-body">
                <p>One fine body&hellip;</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- jQuery, Bootstrap's and other JavaScript plugins) -->
<script src="js/app.js"></script>

<script>

    function MapControl(controlDiv, map) {
        // Set the center property upon construction
        //control.center_ = center;
        controlDiv.css('clear', 'both');

        // Set CSS for the control border
        var zoomPlusBtn = $(document.createElement('button')).addClass('btn btn-default').attr('type', 'button').html('<i class="fa fa-plus"></i>');
        var zoomMinusBtn = $(document.createElement('button')).addClass('btn btn-default').attr('type', 'button').html('<i class="fa fa-minus"></i>');
        var locateBtn = $(document.createElement('button')).addClass('btn btn-default').attr('type', 'button').html('<i class="fa fa-location-arrow"></i>');

        controlDiv.append(zoomPlusBtn);
        controlDiv.append(locateBtn);
        controlDiv.append(zoomMinusBtn);

        zoomPlusBtn.click(function () {
            console.log('BtnZoom Plus');
            $(this).unbind('active');

            if((map.getZoom() + 1) > map.maxZoom){
                console.log('BtnZoom Overflow');
                $(this).attr('disabled', 'disabled');
            }else {
                zoomMinusBtn.removeAttr('disabled');
                map.setZoom(map.getZoom() + 1);
            }
        });

        zoomMinusBtn.click(function () {
            console.log('BtnZoom Minus');
            $(this).unbind('active');

            if((map.getZoom() - 1) < map.minZoom){
                console.log('BtnZoom Overflow');
                $(this).attr('disabled', 'disabled');
            }else {
                zoomPlusBtn.removeAttr('disabled');
                map.setZoom(map.getZoom() - 1);
            }
        });

        locateBtn.click(function () {
            console.log('Btn Locate User');
            $(this).unbind('active');
            geolocateUser(map);
        });
    }

    function geolocateUser(map){
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
                map.setCenter(pos);
            }, function () {
                console.log("Browser geolocation not working!");
            });
        } else {
            console.log("Browser geolocation not supported!");
        }
    }


    function initMap() {

        var gmap;
        var gmapControl;
        var carMarkers;

        var mapCanvas = $('#map');
        var input = $('#pac-input');
        var button = $('#pac-button');
        var modal = $('#booking-modal').modal({
            keyboard: false,
            show: false
        });

        gmap = new google.maps.Map(mapCanvas[0], {
            center: {lat: 45.43750, lng: 12.33583},
            zoom: 12,
            disableDefaultUI: true,
            minZoom: 4,
            maxZoom: 16
        });

        // Set custom crontrols on map
        var centerControlDiv = $(document.createElement('div')).addClass('btn-group btn-group-lg map-controls');
        gmapControl = new MapControl(centerControlDiv, gmap);
        gmap.controls[google.maps.ControlPosition.TOP_CENTER].push(centerControlDiv[0]);

        // Try HTML5 geolocation.
        geolocateUser(gmap);

        var searchBox = new google.maps.places.SearchBox(input[0]);
        searchBox.addListener('places_changed', function () {
            var places = searchBox.getPlaces();

            if (places.length == 0) {
                return;
            }

            // For each place, get the location.
            var bounds = new google.maps.LatLngBounds();
            places.forEach(function (place) {
                if (!place.geometry) {
                    console.log("Returned place contains no geometry");
                    return;
                }

                if (place.geometry.viewport) {
                    // Only geocodes have viewport.
                    bounds.union(place.geometry.viewport);
                } else {
                    bounds.extend(place.geometry.location);
                }
            });
            gmap.fitBounds(bounds);
        });

        input.keypress(function (e) {
            if (e.which == 13) {
                google.maps.event.trigger(searchBox, 'places_changed');
                return false;
            }
        });

        button.click(function () {
            input.focus();
        });

        // Add some markers to the map.
        // Note: The code uses the JavaScript Array.prototype.map() method to
        // create an array of markers based on a given "locations" array.
        // The map() method here has nothing to do with the Google Maps API.
        carMarkers = carLocations.map(function (location, i) {
            var marker = new google.maps.Marker({
                position: location
            });

            google.maps.event.addListener(marker, 'click', function () {
                console.log("Car marker click");
                modal.modal('show');
            });

            return marker;
        });

        // Add a marker clusterer to manage the markers.
        var markerCluster = new MarkerClusterer(gmap, carMarkers,
                {imagePath: 'https://enjoy.eni.com/img/map/marker_cluster'});
    }

    var carLocations = [
        {lat: -31.563910, lng: 147.154312},
        {lat: -33.718234, lng: 150.363181},
        {lat: -33.727111, lng: 150.371124},
        {lat: -33.848588, lng: 151.209834},
        {lat: -33.851702, lng: 151.216968},
        {lat: -34.671264, lng: 150.863657},
        {lat: -35.304724, lng: 148.662905},
        {lat: -36.817685, lng: 175.699196},
        {lat: -36.828611, lng: 175.790222},
        {lat: -37.750000, lng: 145.116667},
        {lat: -37.759859, lng: 145.128708},
        {lat: -37.765015, lng: 145.133858},
        {lat: -37.770104, lng: 145.143299},
        {lat: -37.773700, lng: 145.145187},
        {lat: -37.774785, lng: 145.137978},
        {lat: -37.819616, lng: 144.968119},
        {lat: -38.330766, lng: 144.695692},
        {lat: -39.927193, lng: 175.053218},
        {lat: -41.330162, lng: 174.865694},
        {lat: -42.734358, lng: 147.439506},
        {lat: -42.734358, lng: 147.501315},
        {lat: -42.735258, lng: 147.438000},
        {lat: -43.999792, lng: 170.463352}
    ]
</script>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?callback=initMap&key=AIzaSyDax0fW4hGXS7pqUS4HDa-0itmNBat4PCE&libraries=places"></script>
</body>
</html>
